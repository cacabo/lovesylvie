if (self.CavalryLogger) { CavalryLogger.start_js(["YhEYD"]); }

__d("MercuryAttachmentSnippet.react",["cx","ix","fbt","EmoticonsList","Image.react","MercuryAttachment","MercuryAttachmentSnippetRenderer","MercuryAttachmentSnippetType","MercuryAttachmentType","MercuryIDs","MercuryShareAttachmentSnippet.react","MessengerTextWithEmoticons.react","MercuryParticipants","React","StickerConstants","TextWithEmoticons.react","joinClasses"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l,m=c("React").PropTypes;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=l.constructor).call.apply(q,[this].concat(t)),this.$MercuryAttachmentSnippet6=function(v){return this.$MercuryAttachmentSnippet17(c("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(c("MercuryAttachmentSnippetType").PHOTO,this.$MercuryAttachmentSnippet18,v,this.$MercuryAttachmentSnippet5))}.bind(this),this.$MercuryAttachmentSnippet7=function(v){return this.$MercuryAttachmentSnippet17(c("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(c("MercuryAttachmentSnippetType").GIF,this.$MercuryAttachmentSnippet18,v,this.$MercuryAttachmentSnippet5))}.bind(this),this.$MercuryAttachmentSnippet8=function(v){return this.$MercuryAttachmentSnippet17(c("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(c("MercuryAttachmentSnippetType").VIDEO,this.$MercuryAttachmentSnippet18,v))}.bind(this),this.$MercuryAttachmentSnippet9=function(v){return this.$MercuryAttachmentSnippet17(c("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(c("MercuryAttachmentSnippetType").AUDIO_CLIP,this.$MercuryAttachmentSnippet18,v))}.bind(this),this.$MercuryAttachmentSnippet15=function(v){return c("React").createElement("span",null,c("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(c("MercuryAttachmentSnippetType").THIRDPARTYSTICKER,this.$MercuryAttachmentSnippet18,v))}.bind(this),this.$MercuryAttachmentSnippet11=function(v){return c("React").createElement("span",null,c("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(c("MercuryAttachmentSnippetType").STICKER,this.$MercuryAttachmentSnippet18,v))}.bind(this),this.$MercuryAttachmentSnippet12=function(v){if(!!this.$MercuryAttachmentSnippet5[0].share)return c("React").createElement(c("MercuryShareAttachmentSnippet.react"),{attachment:this.$MercuryAttachmentSnippet5[0].share,senderName:v,isViewerSender:this.$MercuryAttachmentSnippet18});return this.$MercuryAttachmentSnippet17(c("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(c("MercuryAttachmentSnippetType").SHARE,this.$MercuryAttachmentSnippet18,v))}.bind(this),this.$MercuryAttachmentSnippet13=function(v){return c("React").createElement("span",null,c("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(c("MercuryAttachmentSnippetType").GIFT,this.$MercuryAttachmentSnippet18,v))}.bind(this),this.$MercuryAttachmentSnippet16=function(v){return c("React").createElement("span",null,this.$MercuryAttachmentSnippet5.filter(function(w){return w.attach_type===c("MercuryAttachmentType").FILE||w.attach_type===c("MercuryAttachmentType").PHOTO||w.attach_type===c("MercuryAttachmentType").VIDEO}).map(function(w,x){return this.$MercuryAttachmentSnippet17(w.name,w.icon_type,x)}.bind(this)))}.bind(this),this.$MercuryAttachmentSnippet17=function(v,w,x){var y=c("MercuryAttachment").getAttachIconClass(w||this.$MercuryAttachmentSnippet5[0].icon_type),z=c("joinClasses")(y,"uiIconText _3l6h");return c("React").createElement("span",{key:x},c("React").createElement("span",{className:z},c("React").createElement(c("Image.react"),{src:i("86988")})),v)}.bind(this),this.$MercuryAttachmentSnippet14=function(v){var w=c("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(c("MercuryAttachmentSnippetType").ERROR,this.$MercuryAttachmentSnippet18,v);return this.$MercuryAttachmentSnippet17(w)}.bind(this),this.$MercuryAttachmentSnippet2=function(v){this.$MercuryAttachmentSnippet19=v.viewer;this.$MercuryAttachmentSnippet20=v.thread.snippet_sender;this.$MercuryAttachmentSnippet5=v.thread.snippet_attachments;this.$MercuryAttachmentSnippet18=p(this.$MercuryAttachmentSnippet20,this.$MercuryAttachmentSnippet19)}.bind(this),this.$MercuryAttachmentSnippet1=function(v){if(!v)return;this.$MercuryAttachmentSnippet3();if(!c("MercuryParticipants").getNow(v))this.$MercuryAttachmentSnippet21=c("MercuryParticipants").get(v,function(w){return this.forceUpdate()}.bind(this))}.bind(this),this.$MercuryAttachmentSnippet3=function(){this.$MercuryAttachmentSnippet21&&this.$MercuryAttachmentSnippet21.remove()}.bind(this),r}n.prototype.componentWillMount=function(){this.$MercuryAttachmentSnippet1(this.props.thread.snippet_sender);this.$MercuryAttachmentSnippet2(this.props)};n.prototype.componentWillReceiveProps=function(q){this.$MercuryAttachmentSnippet1(q.thread.snippet_sender);this.$MercuryAttachmentSnippet2(q)};n.prototype.componentWillUnmount=function(){this.$MercuryAttachmentSnippet3()};n.prototype.render=function(){var q=this.$MercuryAttachmentSnippet4(),r=c("MercuryAttachmentSnippetRenderer").getAttachmentSnippetType(this.$MercuryAttachmentSnippet5);switch(r){case c("MercuryAttachmentSnippetType").PHOTO:return this.$MercuryAttachmentSnippet6(q);case c("MercuryAttachmentSnippetType").GIF:return this.$MercuryAttachmentSnippet7(q);case c("MercuryAttachmentSnippetType").VIDEO:return this.$MercuryAttachmentSnippet8(q);case c("MercuryAttachmentSnippetType").AUDIO_CLIP:return this.$MercuryAttachmentSnippet9(q);case c("MercuryAttachmentSnippetType").LIKE_STICKER:return this.$MercuryAttachmentSnippet10(q);case c("MercuryAttachmentSnippetType").STICKER:return this.$MercuryAttachmentSnippet11(q);case c("MercuryAttachmentSnippetType").SHARE:return this.$MercuryAttachmentSnippet12(q);case c("MercuryAttachmentSnippetType").GIFT:return this.$MercuryAttachmentSnippet13(q);case c("MercuryAttachmentSnippetType").ERROR:return this.$MercuryAttachmentSnippet14(q);case c("MercuryAttachmentSnippetType").THIRDPARTYSTICKER:return this.$MercuryAttachmentSnippet15(q);default:return this.$MercuryAttachmentSnippet16(q)}};n.prototype.$MercuryAttachmentSnippet10=function(q){var r=c("React").createElement(c("MessengerTextWithEmoticons.react"),{renderEmoticons:true,text:c("EmoticonsList").symbols.like});if(this.$MercuryAttachmentSnippet18)return c("React").createElement("span",null,j._("You: {conversation_snippet}",[j.param("conversation_snippet",r)]));else return this.props.thread.is_canonical?c("React").createElement("span",null,j._("{conversation_snippet}",[j.param("conversation_snippet",r)])):c("React").createElement("span",null,j._("{sender name}: {conversation_snippet}",[j.param("sender name",q),j.param("conversation_snippet",r)]))};n.prototype.$MercuryAttachmentSnippet4=function(){if(!this.$MercuryAttachmentSnippet20||this.$MercuryAttachmentSnippet18)return null;var q=c("MercuryParticipants").getNow(this.$MercuryAttachmentSnippet20);if(!q)return null;var r=c("MercuryIDs").getUserIDFromParticipantID(this.$MercuryAttachmentSnippet20),s=this.props.thread.custom_nickname&&this.props.thread.custom_nickname[r];if(s)s=c("React").createElement(c("MessengerTextWithEmoticons.react"),{renderEmoticons:true,renderEmoji:true,text:s});return s?s:q.short_name};n.propTypes={thread:m.object.isRequired,viewer:m.string.isRequired};function o(q){return q==c("StickerConstants").LIKE_STICKER_ID||q==c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID||q==c("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID||q==c("StickerConstants").HOT_LIKE_LARGE_STICKER_ID}function p(q,r){return!!(q&&c("MercuryIDs").getParticipantIDFromUserID(r)==q)}f.exports=n}),null);