if (self.CavalryLogger) { CavalryLogger.start_js(["1+4Wd"]); }

__d("messengerThreadlistRowActionsReact",["cx","fbt","bs_block","bs_curry","React","keysRe","utilsRe","MercuryIDs","AsyncDialog","CurrentUser","ReasonReact","joinClasses","AsyncRequest","bs_js_primitive","MoveToWorkUtils","MercuryThreadIDMap","messengerDialogsRe","messengerMenuReact","MercuryParticipants","messengerBlockDialogReact","messengerPopoverMenuReact","messengerIgnoreDialogReact","messengerMuteDialogBootloaderReact","messengerMoveToWorkplaceDialogReact","XNFXStartForMessageThreadController","messengerDeleteDialogBootloaderReact","messengerMarkSpamDialogBootloaderReact","mNCommerceReportConversationDialogReact"],(function aa(ba,a,ca,da,ea,b,fa,c){"use strict";function d(l){if(l)return 0;else return a("messengerDialogsRe").removeDialog(0)}function e(l){l.preventDefault();l.stopPropagation();return 0}function f(l){if(l.length)return+l.every(function(m){var n=a("MercuryParticipants").getNow(m);if(n==null)return 0;else return+n.employee});else return 0}var g=a("ReasonReact").reducerComponentWithRetainedProps("MessengerThreadlistRowActionsReact"),h="_5blh _4-0h",i="_5blh _4-0h _4-0i";function j(l,m,n,o,p,q,r,s,t,u,v,w,x,ga,ha,ia,y,ja,ka,la,ma,na,z,oa,A,B,C,pa,D,qa){var E=l?l[0]:"",F=function F(){return a("messengerDialogsRe").showDialog(function(){return a("ReasonReact").element(0,0,a("messengerDeleteDialogBootloaderReact").make(t,u,d,[]))})},G=function G(){if(p)return a("bs_curry")._1(ja,0);else return a("messengerDialogsRe").showDialog(function(){return a("ReasonReact").element(0,0,a("messengerMuteDialogBootloaderReact").make(ha,d,[]))})},H=function H(){if(r)return a("bs_curry")._1(w,0);else return a("bs_curry")._1(ga,0)},I=function I(){return a("messengerDialogsRe").showDialog(function(){return a("ReasonReact").element(0,0,a("messengerMarkSpamDialogBootloaderReact").make(x,d,[]))})},J=function J(){return a("messengerDialogsRe").showDialog(function(){return a("ReasonReact").element(0,0,a("messengerIgnoreDialogReact").make(ka,d,m,D.thread_fbid,+a("MercuryIDs").isGroupChat(D.thread_id),[]))})},K=function K(){if(s)return a("bs_curry")._1(ma,0);else return a("messengerDialogsRe").showDialog(function(){return a("ReasonReact").element(0,0,a("messengerBlockDialogReact").make(la,d,m,D.thread_fbid,[]))})},L=function L(){return a("messengerDialogsRe").showDialog(function(){return a("ReasonReact").element(0,0,a("messengerMoveToWorkplaceDialogReact").make(D.thread_id,[]))})},M=function M(){var U=a("MercuryThreadIDMap").get();U.getServerIDFromClientID(D.thread_id,function(V){a("AsyncDialog").send(new(a("AsyncRequest"))(a("XNFXStartForMessageThreadController").getURIBuilder().setString("thread_fbid",V).getURI()));return 0});return 0},N=function N(){var U=D.other_user_fbid;if(U==null)return 0;else return a("messengerDialogsRe").showDialog(function(){return a("ReasonReact").element(0,0,a("mNCommerceReportConversationDialogReact").make(U,[]))})},O=function O(){return[J,K,F,H,I,G,N,M,L,0]},P=function P(){return 0},Q=function Q(U){var V=+(U.keyCode===a("keysRe").$$return);if(V!==0)return 0;else return 2},R=function R(){return 1},S=function S(U){return[U==null?0:[U]]},T=g.slice();T[8]=function(U){var V=U[1],W=U[0];if(V[5]||V[5]!==W[5])return 1;else return+(V[4]!==W[4])};T[9]=function(U){var V=U[4],W=U[3];if(q){var X=o!==0?n!==0?c._("Leave Chat"):c._("Leave Room"):c._("Leave Group"),Y=c._("Ignore Messages"),Z=s!==0?c._("Unblock Messages"):c._("Block Messages"),$=c._("Move to Workplace"),ra=a("utilsRe").isSomeTrue(B),sa=z||a("utilsRe").isSomeTrue(B),ta=a("utilsRe").isSomeTrue(C),ua=a("utilsRe").isSomeTrue(C),va=1-+a("CurrentUser").isWorkUser()&&(A||oa&&+a("MercuryIDs").isGroupChat(D.thread_id))&&1-s,wa=1-+a("CurrentUser").isWorkUser()&&A,xa=+a("MoveToWorkUtils").isViewerEligible()&&+a("MercuryIDs").isGroupChat(D.thread_id)&&f(D.participants),ya=a("ReasonReact").element(0,0,a("messengerMenuReact").Menu[0]([z!==0?a("ReasonReact").element(0,0,a("messengerMenuReact").MenuItem[0](0,p!==0?c._("Unmute"):c._("Mute"),[V[5]],0,[])):null,ra!==0?a("ReasonReact").element(0,0,a("messengerMenuReact").MenuItem[0](0,c._("Rename"),ia,0,[])):null,sa!==0?a("ReasonReact").element(0,0,a("messengerMenuReact").MenuSeparator[0]([])):null,na!==0?a("ReasonReact").element(0,0,a("messengerMenuReact").MenuItem[0](0,X,v,0,[])):null,a("ReasonReact").element(0,0,a("messengerMenuReact").MenuItem[0](0,c._("Archive"),[t],0,[])),a("ReasonReact").element(0,0,a("messengerMenuReact").MenuItem[0](0,c._("Delete"),[V[2]],0,[])),a("ReasonReact").element(0,0,a("messengerMenuReact").MenuSeparator[0]([])),a("ReasonReact").element(0,0,a("messengerMenuReact").MenuItem[0](0,r!==0?c._("Mark as Read"):c._("Mark as Unread"),[V[3]],0,[])),ta!==0?null:a("ReasonReact").element(0,0,a("messengerMenuReact").MenuItem[0](0,c._("Mark as Spam"),[V[4]],0,[])),ua!==0?a("ReasonReact").element(0,0,a("messengerMenuReact").MenuItem[0](0,c._("Report..."),[V[6]],0,[])):a("ReasonReact").element(0,0,a("messengerMenuReact").MenuItem[0](0,c._("Report Spam or Abuse..."),[V[7]],0,[])),va!==0?a("ReasonReact").element(0,0,a("messengerMenuReact").MenuItem[0](0,Y,[V[0]],0,[])):null,wa!==0?a("ReasonReact").element(0,0,a("messengerMenuReact").MenuItem[0](0,Z,[V[1]],0,[])):null,xa!==0?a("ReasonReact").element(0,0,a("messengerMenuReact").MenuItem[0](0,$,[V[8]],0,[])):null])),za=+(E===""),Aa=za!==0?i:a("joinClasses")(E,i);return a("React").createElement("div",{className:"_3d85"},a("ReasonReact").element(0,[a("bs_curry")._1(W,S)],a("messengerPopoverMenuReact").make([1],[q],ya,[a("bs_curry")._1(W,R)],[a("bs_curry")._1(W,P)],a("React").cloneElement(a("React").createElement("div",{ref:"button",className:Aa,role:"button",tabIndex:0,onClick:e}),{"aria-label":c._("Conversation actions")}))))}else{var Ba=+(E===""),Ca=Ba!==0?h:a("joinClasses")(E,h);return a("React").createElement("div",{className:"_3d85"},a("React").createElement("div",{"aria-label":c._("Conversation actions"),className:Ca,onClick:a("bs_curry")._1(W,P),onKeyUp:a("bs_curry")._1(W,Q),role:"button",ref:"button",tabIndex:pa}))}};T[10]=O;T[11]=q;T[12]=function(U,V){if(typeof U==="number")switch(U){case 0:var T=O(0).slice();return a("bs_block").__(3,[(T[9]=1,T),function(){return a("bs_curry")._1(y,true)}]);case 1:var W=V.slice();return a("bs_block").__(3,[(W[9]=0,W),function(){return a("bs_curry")._1(y,false)}]);case 2:return 0}else{var X=U[0],Y=V[9];if(Y!==0)if(X){var Z=X[0],$=V.slice();return a("bs_block").__(4,[($[9]=0,$),function(){return Z.showPopover()}])}else return 0;else return 0}};return T}var k=a("ReasonReact").wrapReasonForJs(g,function(l){return j(a("bs_js_primitive").null_undefined_to_opt(l.className),a("bs_js_primitive").null_undefined_to_opt(l.contact),+l.isGroupChat,+l.isJoinableThread,+l.isMuted,+l.isOpen,+l.isUnread,+l.isBlocked,l.onArchive,l.onDelete,a("bs_js_primitive").null_undefined_to_opt(l.onLeaveGroup),l.onMarkRead,l.onMarkSpam,l.onMarkUnread,l.onMute,a("bs_js_primitive").null_undefined_to_opt(l.onRename),l.onToggle,l.onUnmute,l.onIgnore,l.onBlock,l.onUnblock,+l.showLeaveGroup,+l.showMute,+l.showIgnoreGroup,+l.showBlock,a("utilsRe").nullUndefinedBooleanToOptionBool(l.showRename),a("utilsRe").nullUndefinedBooleanToOptionBool(l.showReport),l.tabIndex,l.thread,[])});b.handleReasonDialogToggle=d;b.handleClick=e;b.isEmployeesOnly=f;b.component=g;b.actionButtonClassesClosed=h;b.actionButtonClassesOpen=i;b.make=j;b.jsComponent=k}),null);