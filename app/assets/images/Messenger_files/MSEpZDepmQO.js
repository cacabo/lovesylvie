if (self.CavalryLogger) { CavalryLogger.start_js(["uSHZS"]); }

__d("XUIDialogButton.react",["cx","React","XUIButton.react","joinClasses"],(function a(b,c,d,e,f,g,h){var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){"use strict";var m=this.props.action,n=(m=="confirm"?"layerConfirm":"")+(m=="cancel"?" layerCancel":"")+(m=="button"?" layerButton":""),o=this.props.href;if(m=="cancel")o="#";else if(m=="button")o=o||"#";return c("React").createElement(c("XUIButton.react"),babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,n),href:o,role:"button"}))};function l(){"use strict";i.apply(this,arguments)}l.propTypes={action:k.oneOf(["cancel","confirm","button"])};f.exports=l}),null);
__d("XUIDialogCancelButton.react",["fbt","React","XUIDialogButton.react"],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){"use strict";return c("React").createElement(c("XUIDialogButton.react"),babelHelpers["extends"]({},this.props,{action:"cancel",label:h._("Cancel")}))};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("XUIDialogOkayButton.react",["cx","fbt","React","XUIDialogButton.react","joinClasses"],(function a(b,c,d,e,f,g,h,i){var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.render=function(){"use strict";return c("React").createElement(c("XUIDialogButton.react"),babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,"_2z1w"),action:this.props.action,label:i._("OK")}))};function m(){"use strict";j.apply(this,arguments)}m.propTypes={action:l.oneOf(["confirm","cancel","button"]).isRequired};f.exports=m}),null);
__d("LayerDestroyOnHide",[],(function a(b,c,d,e,f,g){function h(i){"use strict";this._layer=i}h.prototype.enable=function(){"use strict";var i=this._layer.destroy.bind(this._layer);this._subscription=this._layer.subscribe("hide",function(){setTimeout(i,0)})};h.prototype.disable=function(){"use strict";if(this._subscription){this._subscription.unsubscribe();this._subscription=null}};Object.assign(h.prototype,{_subscription:null});f.exports=h}),null);
__d("SimpleXUIDialog",["cx","DialogX","LayerAutoFocusReact","LayerDestroyOnHide","LayerFadeOnHide","LayerFadeOnShow","LayerHideOnBlur","LayerHideOnEscape","LayerRefocusOnHide","React","XUIDialogCancelButton.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogOkayButton.react","XUIDialogTitle.react","uniqueID"],(function a(b,c,d,e,f,g,h){"use strict";var i=445,j={show:function k(l,m,n,o){var p=c("React").createElement(c("XUIDialogOkayButton.react"),{action:"cancel",use:"confirm"});return this.showEx(l,m,p,n,o)},showConfirm:function k(l,m,n,o){var p=false,q=c("React").createElement("div",null,c("React").createElement(c("XUIDialogCancelButton.react"),{onClick:function s(){p=false}}),c("React").createElement(c("XUIDialogOkayButton.react"),{action:"cancel",className:o&&o.autofocusConfirm?"autofocus":"",use:"confirm",onClick:function s(){p=true}}));function r(){n(p)}return this.showEx(l,m,q,r,o)},showEx:function k(l,m,n,o,p){p=p||{};var q=[c("LayerDestroyOnHide"),c("LayerFadeOnShow"),c("LayerFadeOnHide"),c("LayerHideOnEscape"),c("LayerRefocusOnHide")];if(p.hideOnBlur!==false)q.push(c("LayerHideOnBlur"));if(p.useReactFocusBehavior)q.push(c("LayerAutoFocusReact"));var r={width:p.width||i,xui:true,addedBehaviors:q,causalElement:p.causalElement};if(m){var s=c("uniqueID")();r.titleID=s;m=c("React").createElement(c("XUIDialogTitle.react"),{showCloseButton:p.showCloseButton!==false,id:s},m)}if(n)n=c("React").createElement(c("XUIDialogFooter.react"),{"data-testid":"simple_xui_dialog_footer",leftContent:p.leftContent},n);var t=c("React").createElement("div",null,m,c("React").createElement(c("XUIDialogBody.react"),null,l),n),u=new(c("DialogX"))(r,t);if(o)u.subscribe("hide",o);u.show();return u}};f.exports=j}),null);
__d("MercuryRTCShareAttachment.react",["cx","ix","fbt","FBRTCCore","FBRTCLogger","FBRTCSupport","Image.react","React","MercuryLogMessageType","MercuryShareAttachmentReactShape","MercuryShareAttachmentRenderLocations","MercuryViewer","MercuryParticipants","MercuryIDs","MercuryTimestamp","MessengerTextWithEmoticons.react","MessengerRTCFunnelLogger","MNRTCCallabilityStore","ShimButton.react","SimpleXUIDialog","XUIText.react","XUIButton.react","CenteredContainer.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l,m=c("React").PropTypes,n=c("MercuryShareAttachmentRenderLocations").CHAT,o=c("MercuryShareAttachmentRenderLocations").MESSENGER,p=c("MercuryShareAttachmentRenderLocations").WEB_INBOX;k=babelHelpers.inherits(q,c("React").Component);l=k&&k.prototype;function q(){var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=l.constructor).call.apply(r,[this].concat(u)),this.state={peerName:null},this.$MercuryRTCShareAttachment2=function(w,x,y,z){if(c("FBRTCSupport").isOSSupported())return c("React").createElement(c("ShimButton.react"),{form:"link",onClick:this.$MercuryRTCShareAttachment4.bind(this,w,x)},!y&&!z?j._("Call Back"):j._("Call Again"));else return c("React").createElement("span",null,!y&&!z?j._("Call Back"):j._("Call Again"))}.bind(this),this.$MercuryRTCShareAttachment3=function(w,x,y,z){var A=!y&&!z?j._("Call Back"):j._("Call Again");return c("React").createElement(c("XUIButton.react"),{onClick:this.$MercuryRTCShareAttachment4.bind(this,w,x),label:A})}.bind(this),s}q.prototype.componentDidMount=function(){var r=this.props.attachment.log_message_data.caller,s=this.props.attachment.log_message_data.callee,t=r===c("MercuryViewer").getID(),u=t?s:r;c("MercuryParticipants").get(u,function(v){this.setState({peerName:v.short_name?v.short_name:v.name})}.bind(this))};q.prototype.render=function(){var r=this.props.attachment.log_message_data.caller,s=this.props.attachment.log_message_data.callee,t=this.props.attachment.log_message_data.answered,u=r===c("MercuryViewer").getID(),v=u?s:r,w=c("MercuryIDs").getUserIDFromParticipantID(v),x=this.state.peerName,y=c("MercuryTimestamp").getPreciseTimestamp(this.props.attachment.timestamp),z=c("React").createElement(c("MessengerTextWithEmoticons.react"),{text:this.props.attachment.log_message_body}),A=this.$MercuryRTCShareAttachment1(t,u,y),B=void 0,C=void 0;if(this.props.location===n){B=this.$MercuryRTCShareAttachment2(w,x,t,u);return c("React").createElement("div",{className:"_1k2i"},c("React").createElement("div",{className:!t&&!u?"_1k2j":""},c("React").createElement(c("XUIText.react"),{weight:"bold"},z),c("React").createElement(c("XUIText.react"),{weight:"bold"},A)),c("React").createElement("hr",null),c("React").createElement(c("CenteredContainer.react"),{vertical:true,className:"_3-8x"},B))}else if(this.props.location===o){B=this.$MercuryRTCShareAttachment2(w,x,t,u);return c("React").createElement("div",{className:"_55q _5i_d _52mr"},c("React").createElement("div",{className:(!t&&!u?"_1k2j":"")+" _55r"},c("React").createElement(c("XUIText.react"),{weight:"bold"},z),c("React").createElement(c("XUIText.react"),{weight:"bold"},A)),c("React").createElement(c("CenteredContainer.react"),{vertical:true,className:"_3-8w"},B))}else if(this.props.location===p){C=this.$MercuryRTCShareAttachment3(w,x,t,u);return c("React").createElement("div",null,c("React").createElement("div",{className:(!t&&!u?"_1k2j":"")+" _55s"},z),c("React").createElement("div",{className:"_55t"},C))}};q.prototype.$MercuryRTCShareAttachment1=function(r,s,t){var u=null;if(!r&&!s)u=i("86815");else if(s)u=i("86816");else u=i("86813");return c("React").createElement("div",{className:"_2phz"},c("React").createElement(c("Image.react"),{src:u}),c("React").createElement("span",{className:(r||s?"_3ole":"")+" _2pir"},t))};q.prototype.$MercuryRTCShareAttachment4=function(r,s){var t=this.props.attachment.log_message_type===c("MercuryLogMessageType").PHONE_CALL;c("MessengerRTCFunnelLogger").startFunnel("Attachment");if(c("FBRTCCore").isAvailableForWebrtcCalling(r)||c("MNRTCCallabilityStore").isCallable(r))c("FBRTCCore").startOutgoingCall(r,c("FBRTCLogger").Trigger.ADMIN_MESSAGE,t);else c("SimpleXUIDialog").show(j._("{firstname} can't be reached right now.",[j.param("firstname",s)]),j._("Can't Connect Call"))};q.propTypes={attachment:c("MercuryShareAttachmentReactShape"),location:m.oneOf(c("MercuryShareAttachmentRenderLocations").getValues()),rootClassName:m.string};f.exports=q}),null);