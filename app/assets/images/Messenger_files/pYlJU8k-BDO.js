if (self.CavalryLogger) { CavalryLogger.start_js(["yg\/ak"]); }

__d("messengerSettingsDialogReact",["cx","fbt","bs_array","bs_block","bs_curry","React","linkReact","bs_js_boolean","MercuryIDs","CurrentUser","ReasonReact","EmojiActions","bs_js_primitive","EmojiStateStore","PresencePrivacy","messengerDialogsRe","MercuryParticipants","messengerDialogReact","SubscriptionsHandler","messengerSpinnerReact","MessengerSettingsStore","MessengerSettingsActions","messengerViewerCardReact","messengerCheckboxInputReact","MessengerDesktopNotifications","chatEmojiSkinTonePreferencePickerReact"],(function a(b,c,d,e,f,g,h,i){"use strict";var j=c("ReasonReact").reducerComponent("MessengerSettingsDialogReact");function k(x){if(x)return 0;else return c("messengerDialogsRe").removeDialog(0)}function l(){return c("messengerDialogsRe").removeDialog(0)}function m(x,y){var z=y[4][1];c("PresencePrivacy").setVisibility(z!==0?c("PresencePrivacy").OFFLINE:c("PresencePrivacy").ONLINE);return 0}function n(x,y){var z=x[2];if(z)return c("ReasonReact").element(0,0,c("messengerViewerCardReact").make(["_3xld"],x[1],[c("bs_curry")._1(y,m)],[z[0]],[]));else return c("ReasonReact").element(0,0,c("messengerSpinnerReact").make(0,0,0,[]))}function o(x,y){c("MessengerSettingsActions").changeDesktopNotifs(c("bs_js_boolean").to_js_boolean(1-+y[4][3].desktopNotifsEnabled),c("bs_curry")._1(y[3],function(){return 1}));return 0}function p(x){var y=x[4];if(y[4])return i._("You can allow Messenger to send you desktop notifications from your browser preferences.");else return c("bs_array").of_list([c("ReasonReact").element(["notifications-checkox"],0,c("messengerCheckboxInputReact").make(+y[3].desktopNotifsEnabled&&y[5],c("bs_curry")._1(x[0],o),[])),[c("React").createElement("span",{key:"notifications-checkbox-label",className:"_1pr_"},i._("Desktop notifications enabled")),0]])}function q(x){if(c("MessengerDesktopNotifications").isSupported())return c("React").createElement("div",{className:"_374b"+(x[4][4]?" _2bd0":"")},c("React").createElement("div",{className:"_374c"},i._("Notifications")),c("React").createElement("div",{className:"_374d"},p(x)));else return null}function r(){if(c("CurrentUser").isWorkUser())return null;else return c("React").createElement("div",{className:"_374b"},c("React").createElement("div",{className:"_374c"},i._("Payments")),c("React").createElement("div",{className:"_374d"},c("ReasonReact").element(0,0,c("linkReact").make(0,0,0,0,0,["https://secure.facebook.com/settings?tab=payments&ref=messengerdotcom_settings"],0,0,0,0,0,0,["_blank"],0,i._("Manage on Facebook")))))}function s(){if(c("CurrentUser").isWorkUser())return null;else return c("React").createElement("div",{className:"_374b"},c("React").createElement("div",{className:"_374c"},i._("Blocking")),c("React").createElement("div",{className:"_374d"},c("ReasonReact").element(0,0,c("linkReact").make(0,0,0,0,0,["https://www.facebook.com/settings?tab=blocking"],0,0,0,0,0,0,["_blank"],0,i._("Manage on Facebook")))))}function t(x,y){var z=y[4][0];if(z&&x===z[0])return 0;else{c("EmojiActions").changeEmojiColor(x);return 0}}function u(x){var y=x[4][0];if(y)return c("ReasonReact").element(0,0,c("chatEmojiSkinTonePreferencePickerReact").make(y[0],c("bs_curry")._1(x[0],t),[]));else return c("ReasonReact").element(0,0,c("messengerSpinnerReact").make(0,0,0,[]))}function v(x){var y=x.target;c("MessengerSettingsActions").changeSettings({sound_enabled:y.checked});return 0}function w(x,y){var z=j.slice();z[4]=function(A){var B=A[3],C=new(c("SubscriptionsHandler"))();C.addSubscriptions(c("PresencePrivacy").subscribe("privacy-changed",c("bs_curry")._1(B,function(){return 0})),c("PresencePrivacy").subscribe("privacy-user-presence-changed",c("bs_curry")._1(B,function(){return 0})),c("MessengerSettingsStore").addListener("change",c("bs_curry")._1(B,function(){return 0})),c("EmojiStateStore").addListener(c("bs_curry")._1(B,function(){return 0})),c("MercuryParticipants").addListener("change",c("bs_curry")._1(B,function(){return 0})));A[4][6][0]=[C];return 0};z[6]=function(A){var B=A[4][6][0];if(B){B[0].release();return 0}else return 0};z[9]=function(A){var B=A[4];return c("ReasonReact").element(0,0,c("messengerDialogReact").Dialog[0](0,k,0,0,0,["default"],[544],[c("ReasonReact").element(0,0,c("messengerDialogReact").Header[0](0,0,[c("ReasonReact").element(0,0,c("messengerDialogReact").Title[0](0,i._("Settings"))),c("ReasonReact").element(0,0,c("messengerDialogReact").Button[0](0,[i._("Done")],0,0,[l],[0],0,0,[]))])),c("React").createElement("div",{className:"_374b"},c("React").createElement("div",{className:"_374c"},i._("Account")),c("React").createElement("div",{className:"_374d"},n(B,A[0]))),c("React").createElement("div",{className:"_374b"},c("React").createElement("div",{className:"_374c"},i._("Sounds")),c("React").createElement("div",{className:"_374d"},c("ReasonReact").element(0,0,c("messengerCheckboxInputReact").make(+B[3].sound_enabled,v,[])),c("React").createElement("span",{className:"_1pr_"},i._("Enabled")))),q(A),r(0),s(0),c("React").createElement("div",{className:"_374b"},c("React").createElement("div",{className:"_374c"},i._("Emoji")),c("React").createElement("div",{className:"_374d _5jb0"},u(A)))]))};z[10]=function(){return[[c("EmojiStateStore").getState().emojiColor],+(c("PresencePrivacy").getVisibility()===c("PresencePrivacy").ONLINE),c("bs_js_primitive").null_undefined_to_opt(c("MercuryParticipants").getOrFetch(c("MercuryIDs").getParticipantIDFromUserID(x))),c("MessengerSettingsStore").getSettings(),+c("MessengerDesktopNotifications").isDenied(),+c("MessengerDesktopNotifications").isGranted(),[0]]};z[12]=function(A,B){if(A!==0){var z=B.slice();return c("bs_block").__(0,[(z[4]=1,z)])}else return c("bs_block").__(0,[[[c("EmojiStateStore").getState().emojiColor],+(c("PresencePrivacy").getVisibility()===c("PresencePrivacy").ONLINE),c("bs_js_primitive").null_undefined_to_opt(c("MercuryParticipants").getOrFetch(c("MercuryIDs").getParticipantIDFromUserID(x))),c("MessengerSettingsStore").getSettings(),+c("MessengerDesktopNotifications").isDenied(),+c("MessengerDesktopNotifications").isGranted(),B[6]]])};return z}g.component=j;g.handleToggle=k;g.handleDone=l;g.handleTogglePresence=m;g.renderAccountSection=n;g.handleNotificationsChange=o;g.renderNotificationsContent=p;g.renderNotificationsSection=q;g.renderPaymentsSection=r;g.renderBlockingSection=s;g.handleChooseEmojiColor=t;g.renderEmojiColorSection=u;g.handleSoundChange=v;g.make=w}),null);